#!/bin/sh

# Pre-commit hook to run oxfmt and lint

echo "Running oxfmt..."
bun run oxfmt --no-error-on-unmatched-pattern
OXFMT_EXIT=$?

if [ $OXFMT_EXIT -ne 0 ]; then
  echo "❌ oxfmt failed. Please fix formatting issues."
  exit 1
fi

echo "Running lint..."
bun run lint
LINT_EXIT=$?

if [ $LINT_EXIT -ne 0 ]; then
  echo "❌ Linting failed. Please fix linting issues."
  exit 1
fi

echo "✅ Pre-commit checks passed!"
exit 0
